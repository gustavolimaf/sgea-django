{% extends 'eventos/base.html' %}

{% block title %}Home - EventLabs{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/home.css' %}" />
{% endblock %}

{% block content %}
<div class="container">
  <!-- Hero Section -->
  <div class="hero">
    <h1>EventLabs</h1>
    <p>Organize, participe e gerencie eventos acadêmicos com facilidade</p>
    {% if not user.is_authenticated %}
    <a
      href="{% url 'registro' %}"
      class="btn btn-outline"
      style="border-color: white; color: white"
      >Começar Agora</a
    >
    {% else %}
    <a
      href="{% url 'eventos_list' %}"
      class="btn btn-outline"
      style="border-color: white; color: white"
      >Ver Eventos</a
    >
    {% endif %}
  </div>

  <!-- Stats Section -->
  <div class="stats">
    <div class="stat-card">
      <div class="stat-number">{{ total_eventos }}</div>
      <div class="stat-label">Eventos Ativos</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">{{ total_usuarios }}</div>
      <div class="stat-label">Usuários Cadastrados</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">100%</div>
      <div class="stat-label">Gratuito</div>
    </div>
  </div>

  <!-- Próximos Eventos -->
  {% if eventos_proximos %}
  <h2 class="section-title">Próximos Eventos</h2>
  <div class="grid grid-3">
    {% for evento in eventos_proximos %}
    <div class="evento-card">
      <span class="evento-tipo">{{ evento.get_tipo_display }}</span>
      <h3 class="evento-titulo">{{ evento.nome }}</h3>
      <p class="evento-info"> {{ evento.data_inicial|date:"d/m/Y" }}</p>
      <p class="evento-info">{{ evento.horario_inicio|time:"H:i" }}</p>
      <p class="evento-info"> {{ evento.local }}</p>

      <div class="evento-vagas">
        <span style="font-size: 0.875rem"
          >{{ evento.vagas_disponiveis }} vagas</span
        >
        <div class="vagas-bar">
          {% widthratio evento.vagas_disponiveis evento.vagas_totais 100 as porcentagem %}
          <div
            class="vagas-fill"
            style="--vagas-percent: {{ porcentagem }}%; width: var(--vagas-percent)"
          ></div>
        </div>
      </div>

      <div class="mt-2">
        <a
          href="{% url 'evento_detail' evento.pk %}"
          class="btn btn-primary"
          style="width: 100%"
          >Ver Detalhes</a
        >
      </div>
    </div>
    {% endfor %}
  </div>

  <div class="text-center mt-4">
    <a href="{% url 'eventos_list' %}" class="btn btn-outline"
      >Ver Todos os Eventos</a
    >
  </div>
  {% endif %}

  <!-- Features Section -->
  <div class="features">
    <div class="feature-card">
      <div class="feature-icon"></div>
      <h3 class="feature-title">Eventos Acadêmicos</h3>
      <p>
        Seminários, palestras, minicursos e semanas acadêmicas em um só lugar
      </p>
    </div>
    <div class="feature-card">
      <div class="feature-icon"></div>
      <h3 class="feature-title">Inscrições Fáceis</h3>
      <p>Inscreva-se em eventos com apenas alguns cliques</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon"></div>
      <h3 class="feature-title">Certificados Digitais</h3>
      <p>Receba certificados de participação automaticamente</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon"></div>
      <h3 class="feature-title">Gestão Completa</h3>
      <p>Organizadores têm controle total sobre seus eventos</p>
    </div>
  </div>

  <!-- CTA Section -->
  {% if not user.is_authenticated %}
  <div class="cta-section">
    <h2>Pronto para começar?</h2>
    <p>
      Cadastre-se gratuitamente e comece a participar de eventos acadêmicos
      agora mesmo!
    </p>
    <a
      href="{% url 'registro' %}"
      class="btn"
      style="background-color: white; color: var(--primary-color)"
      >Criar Conta Gratuita</a
    >
  </div>
  {% endif %}
</div>
{% endblock %}
